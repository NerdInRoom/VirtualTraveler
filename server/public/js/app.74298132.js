(function(t){function e(e){for(var a,o,s=e[0],c=e[1],l=e[2],h=0,f=[];h<s.length;h++)o=s[h],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(f.length)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},r={app:0},i=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("19b3"),r=n.n(a);r.a},"19b3":function(t,e,n){},"19b4":function(t,e,n){},"24de":function(t,e,n){"use strict";var a=n("85e9"),r=n.n(a);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("router-view")],1)},i=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-content",[n("Background"),n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{attrs:{id:"v-col",cols:"12"}},[n("v-hover",{attrs:{disabled:""},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.hover;return[n("v-card",{staticClass:"mx-auto",attrs:{id:"login-card",elevation:e?12:2,height:"550","max-width":"600"}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)]}}])})],1)],1)],1)},s=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("canvas",{attrs:{id:"c"}})},l=[],u=(n("cb29"),{name:"background",mounted:function(){var t=document.getElementById("c"),e=t.getContext("2d"),n=t.width=window.innerWidth,a=t.height=window.innerHeight,r=[],i=0,o={count:5,range:{x:20,y:80},duration:{min:20,max:40},thickness:10,strokeColor:"#444",level:.15,curved:!0},s=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},c=function(t,e,n,a){return(t/=a/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e};e.lineJoin="round",e.lineWidth=o.thickness,e.strokeStyle=o.strokeColor;var l=function(t){this.anchorX=t.x,this.anchorY=t.y,this.x=t.x,this.y=t.y,this.setTarget()};l.prototype.setTarget=function(){this.initialX=this.x,this.initialY=this.y,this.targetX=this.anchorX+s(0,2*o.range.x)-o.range.x,this.targetY=this.anchorY+s(0,2*o.range.y)-o.range.y,this.tick=0,this.duration=s(o.duration.min,o.duration.max)},l.prototype.update=function(){var t=this.targetX-this.x,e=this.targetY-this.y,n=Math.sqrt(t*t+e*e);if(Math.abs(n)<=0)this.setTarget();else{var a=this.tick,r=this.initialY,i=this.targetY-this.initialY,o=this.duration;this.y=c(a,r,i,o),r=this.initialX,i=this.targetX-this.initialX,o=this.duration,this.x=c(a,r,i,o),this.tick++}},l.prototype.render=function(){e.beginPath(),e.arc(this.x,this.y,3,0,2*Math.PI,!1),e.fillStyle="#000",e.fill()};var u=function(){var t=r.length;while(t--)r[t].update()},h=function(){e.beginPath();var t,s=r.length;for(e.moveTo(r[0].x,r[0].y),t=0;t<s-1;t++){var c=(r[t].x+r[t+1].x)/2,l=(r[t].y+r[t+1].y)/2;e.quadraticCurveTo(r[t].x,r[t].y,c,l)}e.lineTo(-o.range.x-o.thickness,a+o.thickness),e.lineTo(n+o.range.x+o.thickness,a+o.thickness),e.closePath(),e.fillStyle="hsl("+i/2+", 80%, 60%)",e.fill(),e.stroke()},f=function(){e.clearRect(0,0,n,a)},d=function e(){window.requestAnimFrame(e,t),i++,f(),u(),h()},m=o.count+2,p=(n+2*o.range.x)/(o.count-1);while(m--)r.push(new l({x:p*(m-1)-o.range.x,y:a-a*o.level}));window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),d()}}),h=u,f=n("2877"),d=Object(f["a"])(h,c,l,!1,null,null,null),m=d.exports,p={name:"auth",components:{Background:m}},v=p,g=(n("24de"),n("6544")),w=n.n(g),b=n("b0af"),x=n("62ad"),y=n("a75b"),k=n("ce87"),_=n("0fd9"),C=Object(f["a"])(v,o,s,!1,null,"60aeb9cb",null),j=C.exports;w()(C,{VCard:b["a"],VCol:x["a"],VContent:y["a"],VHover:k["a"],VRow:_["a"]});var A=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},O=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"map"},[n("h1",[t._v("This is Map-page")])])}],T={components:{}},S=T,P=Object(f["a"])(S,A,O,!1,null,null,null),E=P.exports,M=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},R=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"travel"},[n("h1",[t._v("This is Travel-page")])])}],U={name:"travel",components:{}},V=U,$=Object(f["a"])(V,M,R,!1,null,null,null),q=$.exports,F={name:"App",components:{Auth:j,Map:E,Travel:q},data:function(){return{}}},I=F,B=(n("034f"),n("7496")),L=Object(f["a"])(I,r,i,!1,null,null,null),X=L.exports;w()(L,{VApp:B["a"]});var Y=n("8c4f"),N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("v-row",{staticClass:"row top-row",attrs:{align:"center",justify:"center"}},[n("h1",[t._v("로그인")])]),n("v-row",{staticClass:"row",attrs:{align:"center",justify:"center"}},[n("v-form",{attrs:{id:"login-form"},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-text-field",{attrs:{rules:t.emailRules,label:"이메일",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),n("v-text-field",{attrs:{rules:[t.rules.required,t.rules.min],type:t.show?"text":"password",label:"비밀번호"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("div",{staticClass:"btn"},[n("v-btn",{staticClass:"login-btn white--text title",attrs:{disabled:!t.valid,block:"",color:"#4285F4",large:""},on:{click:t.login}},[t._v("로그인")]),n("v-btn",{staticClass:"login-btn white--text title",attrs:{block:"",color:"#EA4335",large:""},on:{click:t.googleLogin}},[n("v-icon",{staticClass:"icon-google"},[t._v(" mdi-google ")]),t._v(" 구글로 로그인하기")],1),n("v-btn",{staticClass:"login-btn white--text title",attrs:{to:"/signup",block:"",color:"#34A853",large:""}},[t._v("메일로 회원가입")])],1)],1)],1)],1)},W=[],z=n("8aa5"),D=n.n(z),J={name:"loginForm",data:function(){return{valid:!1,email:"",emailRules:[function(t){return!!t||"이메일을 입력하세요."},function(t){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(t)||"유효하지 않은 이메일 입니다."}],password:"",show:!1,rules:{required:function(t){return!!t||"비밀번호를 입력하세요."},min:function(t){return t.length>=8||"비밀번호는 8자리 이상입니다."}}}},methods:{login:function(){var t=this,e=this.email,n=this.password;this.$store.dispatch("emailLogin",{email:e,password:n}).then((function(e){t.$router.push("/map")})).catch((function(t){alert(t)}))},googleLogin:function(){var t=this,e=new D.a.auth.GoogleAuthProvider;e.addScope("https://www.googleapis.com/auth/contacts.readonly"),D.a.auth().signInWithPopup(e).then((function(e){e.credential.accessToken,e.user;t.$router.push("/")})).catch((function(t){var e=t.code;t.message,t.email,t.credential;alert(e)}))}}},H=J,K=(n("f222"),n("8336")),G=n("4bd4"),Z=n("132d"),Q=n("8654"),tt=Object(f["a"])(H,N,W,!1,null,"0c81d0d4",null),et=tt.exports;w()(tt,{VBtn:K["a"],VForm:G["a"],VIcon:Z["a"],VRow:_["a"],VTextField:Q["a"]});var nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"signUp"},[n("v-row",{staticClass:"row top-row",attrs:{align:"center",justify:"center"}},[n("h1",[t._v("회원가입")])]),n("v-row",{staticClass:"row",attrs:{align:"center",justify:"center"}},[n("v-form",{attrs:{id:"login-form"},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-text-field",{attrs:{rules:t.emailRules,label:"이메일",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),n("v-text-field",{attrs:{rules:[t.rules.required,t.rules.min],type:t.show?"text":"password",label:"비밀번호"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),n("v-row",{staticClass:"row",attrs:{align:"center",justify:"center"}},[n("v-col",{attrs:{id:"v-col",cols:"4"}},[n("v-btn",{staticClass:"login-btn white--text title",attrs:{disabled:!t.valid,color:"#34A853",block:"",large:""},on:{click:t.signUp}},[t._v("가입")])],1),n("v-col",{attrs:{id:"v-col",cols:"4"}},[n("v-btn",{staticClass:"login-btn white--text title",attrs:{to:"/",color:"#EA4335",block:"",large:""}},[t._v("취소")])],1)],1)],1)},at=[],rt=(n("96cf"),n("89ba")),it=(n("4160"),n("0d03"),n("d3b7"),n("159b"),n("2f62"));a["a"].use(it["a"]);var ot=new it["a"].Store({state:{loginstate:"init",authUser:null,messages:[]},getters:{},mutations:{changeInitState:function(t,e){return t.loginstate="init"},changeEmailLoginState:function(t,e){return t.loginstate="emailLogin"},changeEmailSignUpState:function(t,e){return t.loginstate="emailSignUp"},setUser:function(t,e){return t.authUser=e},setMessages:function(t,e){return t.messages=e}},actions:{authConfirm:function(t){t.commit,t.state;return ut.authConfirm()},emailLogin:function(t,e){t.commit,t.state;var n=e.email,a=e.password;return ut.emailLogin(n,a)},fetchMessages:function(t){t.commit,t.state;return ut.fetchMessage()}}}),st=(n("e71f"),n("ea7b"),{apiKey:"AIzaSyDTUkBmOKTMBSyanz8aE9lVpTZ7N_arbT4",authDomain:"vue-fb-chat-test.firebaseapp.com",databaseURL:"https://vue-fb-chat-test.firebaseio.com",projectId:"vue-fb-chat-test",storageBucket:"vue-fb-chat-test.appspot.com",messagingSenderId:"294332183075",appId:"1:294332183075:web:b897ddecb6df108a2ef796"});D.a.initializeApp(st);var ct=D.a.firestore(),lt={sendMessage:function(t){var e=D.a.auth().currentUser;ct.collection("chat").add({msg:t,author:e.displayName,createdAt:new Date})},fetchMessage:function(){return new Promise((function(t,e){ct.collection("chat").orderBy("createdAt").onSnapshot((function(t){var e=[];t.forEach((function(t){var n=t.data();n.id=t.id,e.push(n)})),ot.commit("setMessages",e)}))}))},infoID:function(t){ct.collection("chat").doc(t).get().then((function(t){var e=t.data();console.log(e)}))},signUp:function(){var t=Object(rt["a"])(regeneratorRuntime.mark((function t(e,n,a){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=!1,t.next=3,D.a.auth().createUserWithEmailAndPassword(e,n).then((function(){var t=D.a.auth().currentUser;t.updateProfile({displayName:a}),r=!0})).catch((function(t){var e=t.code,n=t.message;alert(e+n)}));case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));function e(e,n,a){return t.apply(this,arguments)}return e}(),logout:function(){console.log("try logout2"),D.a.auth().signOut().then((function(){})).catch((function(t){}))},authConfirm:function(){return new Promise((function(t,e){D.a.auth().onAuthStateChanged((function(n){n?(ot.commit("setUser",n),t(n)):e("not login")}))}))},emailLogin:function(t,e){return new Promise((function(n,a){D.a.auth().signInWithEmailAndPassword(t,e).then((function(t){n(t)})).catch((function(t){a(t)}))}))}},ut=lt,ht={name:"loginForm",data:function(){return{valid:!1,userName:"민강",email:"",emailRules:[function(t){return!!t||"이메일을 입력하세요."},function(t){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(t)||"유효하지 않은 이메일 입니다."}],password:"",show:!1,rules:{required:function(t){return!!t||"비밀번호를 입력하세요."},min:function(t){return t.length>=8||"비밀번호는 8자리 이상입니다."}}}},methods:{signUp:function(){var t=Object(rt["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ut.signUp(this.email,this.password,this.userName);case 2:e=t.sent,e&&this.$router.push("/map");case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},ft=ht,dt=(n("de29"),Object(f["a"])(ft,nt,at,!1,null,"dfda3650",null)),mt=dt.exports;w()(dt,{VBtn:K["a"],VCol:x["a"],VForm:G["a"],VRow:_["a"],VTextField:Q["a"]}),a["a"].use(Y["a"]);var pt=[{path:"/",component:j,children:[{name:"auth",path:"",component:et},{name:"signUp",path:"signup",component:mt}]},{path:"/map",name:"map",component:E},{path:"/travel/:roomId",name:"travel",component:q}],vt=new Y["a"]({mode:"history",base:"",routes:pt}),gt=vt,wt=n("f309");a["a"].use(wt["a"]);var bt=new wt["a"]({icons:{iconfont:"mdi"}});a["a"].config.productionTip=!1,new a["a"]({router:gt,store:ot,vuetify:bt,render:function(t){return t(X)}}).$mount("#app")},"85e9":function(t,e,n){},"988a":function(t,e,n){},de29:function(t,e,n){"use strict";var a=n("988a"),r=n.n(a);r.a},f222:function(t,e,n){"use strict";var a=n("19b4"),r=n.n(a);r.a}});
//# sourceMappingURL=app.74298132.js.map